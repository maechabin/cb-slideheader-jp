/**
 * jquery.cb-slideheader.js - A jQuery plugin to display or hide headerbar with a sliding motion
 * @version v0.2.8
 * @author maechabin <mail@chab.in> http://mae.chab.in/
 * @license MIT license
 */
!function(e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery"),window,document):e(jQuery,window,document)}(function(e,i,o,n){"use strict";var t=function(i,o){this.element=i,this.$element=e(i),this.methodType="",this.config={},this.options=o,this.defaults={headerBarHeight:this.$element.height(),headerBarWidth:"100%",header2SelectorName:".cb-header2",headerClone:!1,fullscreenView:!1,zIndex:0,boxShadow:"none",opacity:1,slidePoint:0,slideDownDuration:"normal",slideUpDuration:"normal",slideDownEasing:"swing",slideUpEasing:"swing",slideDownCallback:function(){},slideUpCallback:function(){},headroom:!1}};t.prototype.slideHeader=function(){var o=this,n=e(i),t="slideDown"===o.methodType?0:"-"+o.config.headerBarHeight+"px",s="slideDown"===o.methodType?"-"+o.config.headerBarHeight+"px":0,d="slideDown"===o.methodType?"Down":"Up",l="slideDown"===o.methodType?"Up":"Down",c={"box-shadow":o.config.boxShadow,transition:"box-shadow .9s linear"},a={"box-shadow":"none"},h="slideDown"===o.methodType?c:a,r="slideDown"===o.methodType?a:c,p="up",f=0,g=0;n.on("scroll",function(){"slideUp"===o.methodType||o.config.headroom===!0?(g=n.scrollTop(),g>f?"up"===p&&(p="down",o.$element.stop().animate({top:t},o.config["slide"+d+"Speed"],o.config["slide"+d+"Easing"],o.config["slide"+d+"Callback"]).css(h)):"down"===p&&(p="up",o.$element.stop().animate({top:s},o.config["slide"+l+"Speed"],o.config["slide"+l+"Easing"],o.config["slide"+l+"Callback"]).css(r)),f=g):n.scrollTop()>o.config.slidePoint?"up"===p&&(p="down",o.$element.stop().animate({top:t},o.config["slide"+d+"Speed"],o.config["slide"+d+"Easing"],o.config["slide"+d+"Callback"]).css(h)):"down"===p&&(p="up",o.$element.stop().animate({top:s},o.config["slide"+l+"Speed"],o.config["slide"+l+"Easing"],o.config["slide"+l+"Callback"]).css(r))})},t.prototype.setStyle=function(){var e=this,i="slideDown"===e.methodType?"-"+e.config.headerBarHeight+"px":0;e.$element.css({top:i,visibility:"visible",opacity:e.config.opacity,width:e.config.width,"z-index":e.config.zIndex})},t.prototype.cloneHeader=function(){var e=this,i=e.$element.clone(!0);i.insertAfter(e.$element).removeClass("cb-header").css({"z-index":9999})},t.prototype.changeHeaderHeight=function(){var o=this,n=o.$element.height(),t=e(o.config.header2SelectorName),s=n+t.height(),d=e(i).height(),l="";d>s?(l=o.config.headerClone===!0?(d-s)/2:(d-s+n)/2,o.config.slidePoint=d,t.css({"padding-top":l+"px","padding-bottom":l+"px"})):o.config.slidePoint=o.config.headerClone===!0?s:s-n},t.prototype.init=function(i){return this.methodType=i,this.config=e.extend({},this.defaults,this.options),this.config.headerClone===!0&&this.cloneHeader(),this.setStyle(),this.config.fullscreenView===!0&&this.changeHeaderHeight(),this.slideHeader(),this},e.extend(e.fn,{cbSlideDownHeader:function(e){return this.each(function(){new t(this,e).init("slideDown")})},cbSlideUpHeader:function(e){return this.each(function(){new t(this,e).init("slideUp")})}})});